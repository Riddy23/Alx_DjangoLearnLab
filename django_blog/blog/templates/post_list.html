{% extends 'base.html' %}
{% block title %}Posts - Django Blog{% endblock %}
{% block content %}
  <h2>Posts</h2>
    {% for post in posts %}
        <article>
              <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                    <p>By {{ post.author }} â€” {{ post.published_date }}</p>
                          <p>{{ post.content|truncatewords:30 }}</p>
                                <p>Tags:
                                        {% for tag in post.tags.all %}
                                                  <a href="{% url 'blog:posts_by_tag' tag.name %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
                                                          {% empty %}
                                                                    none
                                                                            {% endfor %}
                                                                                  </p>
                                                                                        <hr/>
                                                                                            </article>
                                                                                              {% empty %}
                                                                                                  <p>No posts yet.</p>
                                                                                                    {% endfor %}

                                                                                                      {% if is_paginated %}
                                                                                                          <div>
                                                                                                                {% if page_obj.has_previous %}
                                                                                                                        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
                                                                                                                              {% endif %}
                                                                                                                                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                                                                                                                                          {% if page_obj.has_next %}
                                                                                                                                                  <a href="?page={{ page_obj.next_page_number }}">Next</a>
                                                                                                                                                        {% endif %}
                                                                                                                                                            </div>
                                                                                                                                                              {% endif %}
                                                                                                                                                              {% endblock %}
                                                                                                                                                              